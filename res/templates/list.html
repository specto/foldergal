{{ define "head" }}
<link rel="stylesheet" type="text/css" href="{{ .Prefix }}/static?css" />
<script type="text/javascript" src="{{ .Prefix }}/static?js"></script>
{{end}}
{{ define "body" }}

    <header>
        <nav>
            <h1 class="path">
                {{ range .BreadCrumbs -}}
                    <a href="{{ .Url }}" title="{{ .Title }}">{{ .Title }}</a>
                {{- end -}}
				<span>{{ .ItemCount }}&gt;</span>
            </h1>
			<div class="toolbar">
			    <span class="title">show:</span>
				<span class="buttons"><a {{ if eq .Slideshow "inline" -}}
					class="current"
				{{- end }} href="?show-inline">inline</a><a {{ if ne .Slideshow "inline" -}}
					class="current"
				{{- end }} href="?show-files">files</a></span>
				<span class="title">order by:</span>
				<span class="buttons"><a {{ if eq .SortedBy "name" -}}
					class="current"
				{{- end }} href="?by-name">name</a><a {{ if eq .SortedBy "date" -}}
					class="current"
				{{- end }} href="?by-date">date</a></span>
			</div>
        </nav>
    </header>
    <main>
    <ul>
        {{ if .ParentUrl }}
            <li>
                <a class="title-container folder" href="{{- .ParentUrl -}}">
                    <span><img src="{{ .Prefix }}/static?up" alt=".." title="{{ .ParentUrl }}" /></span>
                </a></li>
        {{ end }}
        {{ range .Items }}
            <li class="{{ .Class }}"><a class="title-container"
            {{ if and (ne .Class "folder") (eq $.Slideshow "inline") -}}
            onclick="return showSlide(this);"
            {{- end }}
            href="{{- .Url -}}"
            title="{{ .Name }} [{{ .ModTime }}]">
                <span>
                    {{ if .Thumb -}}
                        <img src="{{ .Thumb }}" alt="{{ .Name }}" width="10em" />
                    {{- end }}

                    <span class="title">{{- .Name -}}</span>
                </span></a></li>
        {{ end }}
    </ul>
    </main>
    <div id="slideshow"></div>
{{ end }}
